{% extends "base.html" %}

{% block content %}
<div class="page-container">
    <div class="container-xxl">
        <section class="page-header hero-panel text-white position-relative overflow-hidden mb-5">
            <div class="row align-items-center g-4">
                <div class="col-lg-7">
                    <div class="title-group">
                        <span class="title-icon bg-white bg-opacity-10 border border-white border-opacity-25 text-white">
                            <i class="fas fa-bullhorn"></i>
                        </span>
                        <div>
                            <h1 class="display-5 fw-bold">Your Voice Matters</h1>
                            <p class="mb-0">Report incidents confidentially, reach out for support, and access the guidance you need to feel safe on campus.</p>
                        </div>
                    </div>
                    <div class="d-flex flex-column flex-md-row gap-3 mt-4">
                        <a href="{% url 'report_anonymous' %}" class="btn btn-danger btn-icon fw-semibold">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span>Report an Incident</span>
                        </a>
                        <a href="{% url 'awareness' %}" class="btn btn-success btn-icon fw-semibold">
                            <i class="fas fa-hands-helping"></i>
                            <span>Explore support resources</span>
                        </a>
                    </div>
                </div>
                <div class="col-lg-5 text-lg-end">
                    <div class="position-relative">
                        <div class="rounded-5 bg-white bg-opacity-10 p-4 d-inline-flex flex-column align-items-start gap-3 shadow-soft">
                            <div class="d-flex align-items-center gap-3">
                                <div class="profile-avatar bg-white bg-opacity-25 text-white border-0">
                                    <i class="fas fa-comments"></i>
                                </div>
                                <div>
                                    <p class="mb-1 text-white-50 text-uppercase small">24/7 Help Line</p>
                                    <h4 class="mb-0 text-white">Connect with counselors fast</h4>
                                </div>
                            </div>
                            <p class="mb-0 text-white-75">Every report is reviewed by trained staff who follow up with compassionate, confidential support.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="page-section">
                    <div class="d-flex flex-column flex-md-row align-items-md-center justify-content-md-between gap-3 mb-4">
                        <h2 class="page-section-title mb-0">How we help you feel safer</h2>
                        <p class="mb-0">Clear next steps, quick response times, and trusted guidance whenever you need it.</p>
                    </div>
                <div class="row g-4">
                        <div class="col-md-4">
                            <article class="page-card h-100" role="button" tabindex="0" onclick="location.href='{% url 'submit_report' %}'" onkeypress="if(event.key==='Enter'){location.href='{% url 'submit_report' %}';}">
                                <div class="page-card-body text-center">
                                    <div class="tile-icon mx-auto mb-3">
                                        <i class="fas fa-shield-alt"></i>
                                    </div>
                                    <h3 class="h4">Report safely</h3>
                                    <p class="mb-4">Share what happened anonymously or by name. We keep your information secure at every step.</p>
                                    <span class="btn btn-danger btn-sm">Start a report</span>
                                </div>
                            </article>
                        </div>
                    <div class="col-md-4">
                            <article class="page-card h-100" role="button" tabindex="0" onclick="location.href='{% url 'awareness' %}'" onkeypress="if(event.key==='Enter'){location.href='{% url 'awareness' %}';}">
                                <div class="page-card-body text-center">
                                    <div class="tile-icon mx-auto mb-3 text-success">
                                        <i class="fas fa-hands-helping"></i>
                                    </div>
                                    <h3 class="h4">Find support</h3>
                                    <p class="mb-4">Connect with counselors, peer advocates, and campus services ready to help you navigate next steps.</p>
                                    <span class="btn btn-outline-success btn-sm">See support options</span>
                                </div>
                            </article>
                        </div>
                    <div class="col-md-4">
                            <article class="page-card h-100" role="button" tabindex="0" onclick="location.href='{% url 'awareness' %}#education'" onkeypress="if(event.key==='Enter'){location.href='{% url 'awareness' %}#education';}">
                                <div class="page-card-body text-center">
                                    <div class="tile-icon mx-auto mb-3 text-warning">
                                        <i class="fas fa-graduation-cap"></i>
                                    </div>
                                    <h3 class="h4">Learn and prevent</h3>
                                    <p class="mb-4">Explore workshops, quick guides, and tips to recognise bullying behaviours and support your peers.</p>
                                    <span class="btn btn-outline-info btn-sm">Browse learning hub</span>
                                </div>
                            </article>
                    </div>
                </div>
        </section>

        {% if recent_resources %}
                <section class="page-section" id="latest-resources">
                    <div class="d-flex flex-column flex-md-row align-items-md-center justify-content-md-between gap-3 mb-4">
                        <div>
                            <h2 class="page-section-title mb-1">Latest support resources</h2>
                            <p class="mb-0">Fresh insights curated by our wellbeing team.</p>
                        </div>
                        <a href="{% url 'awareness' %}" class="action-chip action-chip-info">
                            <i class="fas fa-arrow-up-right-from-square"></i>
                            <span>View all resources</span>
                        </a>
                    </div>
                    <div class="row g-4" id="resourcesContainer">
                            {% for resource in recent_resources %}
                            <div class="col-md-6 col-lg-4 resource-item" data-category="{{ resource.category }}" data-type="{{ resource.resource_type }}">
                                <article class="card resource-card h-100">
                                    <div class="card-body d-flex flex-column">
                                        <div class="d-flex align-items-center justify-content-between mb-3">
                                            <span class="badge badge-soft-primary text-uppercase fw-semibold">{{ resource.category|title }}</span>
                                            <span class="small text-muted"><i class="fas fa-calendar me-1"></i>{{ resource.created_at|date:"M d, Y" }}</span>
                                        </div>
                                        <h3 class="h5 text-primary">{{ resource.title }}</h3>
                                        <p class="mb-4 flex-grow-1">{{ resource.content|truncatechars:110 }}</p>
                                        <div class="d-flex align-items-center gap-2 text-muted">
                                            <i class="fas {% if resource.resource_type == 'article' %}fa-file-alt{% elif resource.resource_type == 'video' %}fa-play-circle{% else %}fa-lightbulb{% endif %}"></i>
                                            <span class="text-uppercase small">{{ resource.resource_type|title }}</span>
                                        </div>
                                    </div>
                                </article>
                            </div>
                        {% endfor %}
                    </div>
                </section>
        {% endif %}

        <section class="page-section">
                    <div class="page-card p-4 p-lg-5 bg-primary bg-opacity-10 border-0">
                        <div class="row align-items-center g-4">
                            <div class="col-lg-7">
                                <h2 class="fw-bold mb-3">Need help right now?</h2>
                                <p class="mb-0">If you or someone you know is in immediate danger, contact emergency services or campus safety right away. We can connect you with additional help once you are safe.</p>
                            </div>
                            <div class="col-lg-5">
                                <div class="d-flex flex-column gap-3">
                                    <a href="tel:1990" class="btn btn-danger btn-icon justify-content-center" aria-label="Call emergency services">
                                        <i class="fas fa-phone"></i>
                                        <span>Emergency: 1990</span>
                                    </a>
                                    <a href="mailto:support@university.edu" class="action-chip action-chip-info justify-content-center" aria-label="Email campus support team">
                                        <i class="fas fa-envelope"></i>
                                        <span>support@university.edu</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
        </section>
    </div>
</div>
{% endblock %}
